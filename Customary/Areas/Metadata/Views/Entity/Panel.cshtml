@using Custom.Areas.Metadata.Models
@using Custom.Metadata
@using Custom.Presentation
@using Ext = Custom.Presentation.Sencha.Ext
<script type="text/javascript">
    Ext.define('App.metadata.entity.Panel', function () {

        return {
            extend: 'Ext.tab.Panel',
            requires: [
                //'App.metadata.association.Grid',
                //'App.metadata.association.Panel',
                'App.metadata.entity.Form',
                'App.metadata.property.Grid',
                'App.metadata.property.Panel',
                //'App.metadata.validation.Grid',
                //'App.metadata.validation.Panel',
                'App.core.Adapter'
            ],

            activeTab: 0,      // First tab active by default
            initComponent: function () {

                var items = [
                    Ext.create('App.metadata.entity.Form', {
                        title: 'General',
                        //columnWidth: .5, 

                        border: false,
                        activeRecord: null,
                        //iconCls: 'icon-user',
                        frame: false,
                        defaultType: 'textfield',
                        bodyPadding: 5,

                        fieldDefaults: {
                            anchor: '100%',
                            labelAlign: 'right'
                        },

                        defaultAnchor: "100%"
                    }),
                    Ext.create('App.metadata.property.Panel', {
                        title: 'Properties',
                        layout: 'border'
                    }),
                    Ext.create('App.metadata.association.Panel', {
                        title: "Associations",
                        layout: 'border'
                    }),
                    {
                        title: 'Validations',
                        html: 'Extended field validations'
                    },
                    {
                        title: 'Persistence',
                        html: 'Storage and mapping parameters'
                    },
                    {
                        title: 'Presentation',
                        html: 'UI parameters'
                    }
                ];

                Ext.apply(this, {
                    frame: true,
                    //bodyStyle: 'padding:5px 5px 0',

                    items: items,
                    dockedItems: [
                        {
                            xtype: 'toolbar',
                            dock: 'bottom',
                            ui: 'footer',
                            items: ['->', this.updateButton, this.cancelButton]
                        }
                    ]
                });

                this.callParent();
            }
        };
    });
</script>
